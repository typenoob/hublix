"use strict";(self["webpackChunkhublix"]=self["webpackChunkhublix"]||[]).push([[550],{8325:function(e,l,t){t.d(l,{Z:function(){return A}});var a=t(3396),n=t(7139),o=t(8281),i=t(1634),r=t(6572),u=t(1334),s=t(9234),c=t(1802),d=(t(6699),t(4960)),v=t(9166),p=t(9694),m=t(9374),f=t(1138),h=t(7041),y=t(1629),g=t(8717),b=t(3766),x=t(1107),C=t(131),V=t(7514),k=t(9888),W=t(4870);const w=(0,b.U)({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:d.lE,default:"$ratingEmpty"},fullIcon:{type:d.lE,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...(0,v.l)(),...(0,p.f)(),...(0,m.Z)(),...(0,f.Q)(),...(0,h.x$)()},"v-rating"),I=(0,x.ev)()({name:"VRating",props:w(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const{t:n}=(0,y.bU)(),{themeClasses:i}=(0,h.ER)(e),r=(0,g.z)(e,"modelValue"),u=(0,a.Fl)((()=>(0,C.uZ)(parseFloat(r.value),0,+e.length))),s=(0,a.Fl)((()=>(0,C.MT)(Number(e.length),1))),c=(0,a.Fl)((()=>s.value.flatMap((l=>e.halfIncrements?[l-.5,l]:[l])))),d=(0,W.XI)(-1),v=(0,a.Fl)((()=>c.value.map((l=>{const t=e.hover&&d.value>-1,a=u.value>=l,n=d.value>=l,o=t?n:a,i=o?e.fullIcon:e.emptyIcon,r=e.activeColor??e.color,s=a||n?r:e.color;return{isFilled:a,isHovered:n,icon:i,color:s}})))),p=(0,a.Fl)((()=>[0,...c.value].map((l=>{function t(){d.value=l}function a(){d.value=-1}function n(){e.disabled||e.readonly||(r.value=u.value===l&&e.clearable?0:l)}return{onMouseenter:e.hover?t:void 0,onMouseleave:e.hover?a:void 0,onClick:n}})))),m=(0,a.Fl)((()=>e.name??`v-rating-${(0,V.sq)()}`));function f(l){let{value:i,index:r,showStar:s=!0}=l;const{onMouseenter:c,onMouseleave:d,onClick:f}=p.value[r+1],h=`${m.value}-${String(i).replace(".","-")}`,y={color:v.value[r]?.color,density:e.density,disabled:e.disabled,icon:v.value[r]?.icon,ripple:e.ripple,size:e.size,variant:"plain"};return(0,a.Wm)(a.HY,null,[(0,a.Wm)("label",{for:h,class:{"v-rating__item--half":e.halfIncrements&&i%1>0,"v-rating__item--full":e.halfIncrements&&i%1===0},onMouseenter:c,onMouseleave:d,onClick:f},[(0,a.Wm)("span",{class:"v-rating__hidden"},[n(e.itemAriaLabel,i,e.length)]),s?t.item?t.item({...v.value[r],props:y,value:i,index:r,rating:u.value}):(0,a.Wm)(o.T,y,null):void 0]),(0,a.Wm)("input",{class:"v-rating__hidden",name:m.value,id:h,type:"radio",value:i,checked:u.value===i,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function b(e){return t["item-label"]?t["item-label"](e):e.label?(0,a.Wm)("span",null,[e.label]):(0,a.Wm)("span",null,[(0,a.Uk)(" ")])}return(0,k.L)((()=>{const l=!!e.itemLabels?.length||t["item-label"];return(0,a.Wm)(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},i.value,e.class],style:e.style},{default:()=>[(0,a.Wm)(f,{value:0,index:-1,showStar:!1},null),s.value.map(((t,n)=>(0,a.Wm)("div",{class:"v-rating__wrapper"},[l&&"top"===e.itemLabelPosition?b({value:t,index:n,label:e.itemLabels?.[n]}):void 0,(0,a.Wm)("div",{class:"v-rating__item"},[e.halfIncrements?(0,a.Wm)(a.HY,null,[(0,a.Wm)(f,{value:t-.5,index:2*n},null),(0,a.Wm)(f,{value:t,index:2*n+1},null)]):(0,a.Wm)(f,{value:t,index:n},null)]),l&&"bottom"===e.itemLabelPosition?b({value:t,index:n,label:e.itemLabels?.[n]}):void 0])))]})})),{}}});function F(e,l,t,d,v,p){return(0,a.wg)(),(0,a.j4)(i._,{elevation:v.elevation,onTouchstart:l[4]||(l[4]=e=>this.elevation=12),onTouchend:l[5]||(l[5]=e=>this.elevation=6),class:"mx-auto",density:"compact","max-width":p.width,style:{position:"relative"}},{default:(0,a.w5)((()=>[(0,a.Wm)(c.f,{onClick:l[0]||(l[0]=l=>e.$router.push({path:`/video/${t.id}`})),class:"white--text align-end",src:v.src,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"200px",cover:""},{default:(0,a.w5)((()=>[(0,a.Wm)(r.E,{class:"text-white"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(v.title),1)])),_:1})])),_:1},8,["src"]),(0,a.Wm)(u.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(I,{readonly:"",modelValue:v.rating,"onUpdate:modelValue":l[1]||(l[1]=e=>v.rating=e),"background-color":"white",color:"yellow accent-4",density:"compact","half-increments":"",hover:"",size:"small"},null,8,["modelValue"]),(0,a.Wm)(s.C),(0,a.Wm)(o.T,{style:(0,n.j5)(`position: absolute; right: ${p.right[0]}px; bottom: 8px`),size:"x-small",color:p.is_collected?"yellow":"#424242",icon:p.is_collected?"mdi-bookmark":"mdi-bookmark-outline",onClick:l[2]||(l[2]=e=>p.is_collected?p.deleteMovie(t.id):p.addMovie(p.collection_id,t.id))},null,8,["style","color","icon"]),(0,a.Wm)(o.T,{size:"x-small",style:(0,n.j5)(`position: absolute; right: ${p.right[1]}px; bottom: 8px`),color:"surface-variant",icon:"mdi-share-variant",onClick:l[3]||(l[3]=e=>this.$store.commit("alertUnfinished"))},null,8,["style"])])),_:1})])),_:1},8,["elevation","max-width"])}var _=t(3020),S=t(9201),B=t(8157),U={created(){this.readInfo(),this.fetchData()},computed:{collection_id(){return this.$store.state.user.info.default_collection},is_collected(){const e=this.$store.state.collections.reduce(((e,l)=>e.concat(l.movies.map((e=>e.id)))),[]);return e.includes(this.id.toString())},width(){const{name:e}=(0,B.AW)();switch(e.value){case"xs":return 160;case"sm":return 250;case"md":return 350;case"lg":return 450;case"xl":return 550}return 0},right(){const{name:e}=(0,B.AW)();switch(e.value){case"xs":return[20,0];case"sm":return[80,40];case"md":return[120,60];case"lg":return[180,100];case"xl":return[240,160]}return 0}},data(){return{elevation:6,title:"标题",src:"",rating:5,like:!1}},watch:{id:function(){this.fetchData()}},props:{id:{type:Number,required:!0}},methods:{async fetchData(){_.Z.detail(this.id).then((e=>{Object.assign(this,e)}))},addMovie:S.Z.addMovie,deleteMovie:S.Z.deleteMovie,readInfo:S.Z.readInfo}},$=t(89);const L=(0,$.Z)(U,[["render",F]]);var A=L},5477:function(e,l,t){t.d(l,{p:function(){return _},w:function(){return F}});var a=t(3396),n=t(4959),o=t(366),i=t(9166),r=t(4960),u=t(9694),s=t(7041),c=t(6107),d=t(8717),v=t(4870),p=t(3766),m=t(131),f=t(1107),h=t(7514),y=t(9888);const g=Symbol.for("vuetify:selection-control-group"),b=(0,p.U)({color:String,disabled:Boolean,defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:r.lE,trueIcon:r.lE,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:m.vZ},...(0,i.l)(),...(0,u.f)(),...(0,s.x$)()},"selection-control-group"),x=(0,p.U)({...b({defaultsTarget:"VSelectionControl"})},"v-selection-control-group");(0,f.ev)()({name:"VSelectionControlGroup",props:x(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const n=(0,d.z)(e,"modelValue"),o=(0,h.sq)(),i=(0,a.Fl)((()=>e.id||`v-selection-control-group-${o}`)),r=(0,a.Fl)((()=>e.name||i.value)),u=new Set;return(0,a.JJ)(g,{modelValue:n,forceUpdate:()=>{u.forEach((e=>e()))},onForceUpdate:e=>{u.add(e),(0,v.EB)((()=>{u.delete(e)}))}}),(0,c.AF)({[e.defaultsTarget]:{color:(0,v.Vh)(e,"color"),disabled:(0,v.Vh)(e,"disabled"),density:(0,v.Vh)(e,"density"),error:(0,v.Vh)(e,"error"),inline:(0,v.Vh)(e,"inline"),modelValue:n,multiple:(0,a.Fl)((()=>!!e.multiple||null==e.multiple&&Array.isArray(n.value))),name:r,falseIcon:(0,v.Vh)(e,"falseIcon"),trueIcon:(0,v.Vh)(e,"trueIcon"),readonly:(0,v.Vh)(e,"readonly"),ripple:(0,v.Vh)(e,"ripple"),type:(0,v.Vh)(e,"type"),valueComparator:(0,v.Vh)(e,"valueComparator")}}),(0,y.L)((()=>(0,a.Wm)("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:"radio"===e.type?"radiogroup":void 0},[t.default?.()]))),{}}});var C=t(1060),V=t(2370),k=t(2385);const W=(0,p.U)({label:String,trueValue:null,falseValue:null,value:null,...(0,i.l)(),...b()},"v-selection-control");function w(e){const l=(0,a.f3)(g,void 0),{densityClasses:t}=(0,u.t)(e),n=(0,d.z)(e,"modelValue"),o=(0,a.Fl)((()=>void 0!==e.trueValue?e.trueValue:void 0===e.value||e.value)),i=(0,a.Fl)((()=>void 0!==e.falseValue&&e.falseValue)),r=(0,a.Fl)((()=>!!e.multiple||null==e.multiple&&Array.isArray(n.value))),s=(0,a.Fl)({get(){const t=l?l.modelValue.value:n.value;return r.value?t.some((l=>e.valueComparator(l,o.value))):e.valueComparator(t,o.value)},set(t){if(e.readonly)return;const a=t?o.value:i.value;let u=a;r.value&&(u=t?[...(0,m.FT)(n.value),a]:(0,m.FT)(n.value).filter((l=>!e.valueComparator(l,o.value)))),l?l.modelValue.value=u:n.value=u}}),{textColorClasses:c,textColorStyles:v}=(0,V.rY)((0,a.Fl)((()=>!s.value||e.error||e.disabled?void 0:e.color))),p=(0,a.Fl)((()=>s.value?e.trueIcon:e.falseIcon));return{group:l,densityClasses:t,trueValue:o,falseValue:i,model:s,textColorClasses:c,textColorStyles:v,icon:p}}const I=(0,f.ev)()({name:"VSelectionControl",directives:{Ripple:C.H},inheritAttrs:!1,props:W(),emits:{"update:modelValue":e=>!0},setup(e,l){let{attrs:t,slots:i}=l;const{group:r,densityClasses:u,icon:s,model:c,textColorClasses:d,textColorStyles:p,trueValue:f}=w(e),g=(0,h.sq)(),b=(0,a.Fl)((()=>e.id||`input-${g}`)),x=(0,v.XI)(!1),C=(0,v.XI)(!1),V=(0,v.iH)();function W(e){x.value=!0,(!k.Z1||k.Z1&&e.target.matches(":focus-visible"))&&(C.value=!0)}function I(){x.value=!1,C.value=!1}function F(l){e.readonly&&r&&(0,a.Y3)((()=>r.forceUpdate())),c.value=l.target.checked}return r?.onForceUpdate((()=>{V.value&&(V.value.checked=c.value)})),(0,y.L)((()=>{const l=i.label?i.label({label:e.label,props:{for:b.value}}):e.label,[r,v]=(0,m.An)(t);return(0,a.Wm)("div",(0,a.dG)({class:["v-selection-control",{"v-selection-control--dirty":c.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":x.value,"v-selection-control--focus-visible":C.value,"v-selection-control--inline":e.inline},u.value,e.class]},r,{style:e.style}),[(0,a.Wm)("div",{class:["v-selection-control__wrapper",d.value],style:p.value},[i.default?.(),(0,a.wy)((0,a.Wm)("div",{class:["v-selection-control__input"]},[s.value&&(0,a.Wm)(n.t,{key:"icon",icon:s.value},null),(0,a.Wm)("input",(0,a.dG)({ref:V,checked:c.value,disabled:e.disabled,id:b.value,onBlur:I,onFocus:W,onInput:F,"aria-disabled":e.readonly,type:e.type,value:f.value,name:e.name,"aria-checked":"checkbox"===e.type?c.value:void 0},v),null),i.input?.({model:c,textColorClasses:d,textColorStyles:p,props:{onFocus:W,onBlur:I,id:b.value}})]),[[(0,a.Q2)("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),l&&(0,a.Wm)(o.J,{for:b.value,clickable:!0},{default:()=>[l]})])})),{isFocused:x,input:V}}}),F=(0,p.U)({indeterminate:Boolean,indeterminateIcon:{type:r.lE,default:"$checkboxIndeterminate"},...W({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),_=(0,f.ev)()({name:"VCheckboxBtn",props:F(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,l){let{slots:t}=l;const n=(0,d.z)(e,"indeterminate"),o=(0,d.z)(e,"modelValue");function i(e){n.value&&(n.value=!1)}const r=(0,a.Fl)((()=>n.value?e.indeterminateIcon:e.falseIcon)),u=(0,a.Fl)((()=>n.value?e.indeterminateIcon:e.trueIcon));return(0,y.L)((()=>(0,a.Wm)(I,(0,a.dG)(e,{modelValue:o.value,"onUpdate:modelValue":[e=>o.value=e,i],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:r.value,trueIcon:u.value,"aria-checked":n.value?"mixed":void 0}),t))),{}}})},9234:function(e,l,t){t.d(l,{C:function(){return n}});var a=t(1114);const n=(0,a.J)("flex-grow-1","div","VSpacer")},7540:function(e,l,t){t.d(l,{rL:function(){return F},fL:function(){return w}});t(6699);var a=t(3396),n=t(165),o=t(5477),i=t(5032),r=t(836),u=t(2583),s=t(5547),c=t(7653),d=t(1347),v=t(4959),p=t(3185),m=t(4960),f=t(4019),h=t(4906),y=t(4357),g=t(1629),b=t(8717),x=t(4870),C=t(3766),V=t(131),k=t(1107),W=t(9888);const w=(0,C.U)({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:m.lE,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:V.vZ},...(0,f.S1)({itemChildren:!1})},"select"),I=(0,C.U)({...w(),...(0,V.CE)((0,n.w)({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...(0,h.X)({transition:{component:u.v}})},"v-select"),F=(0,k.ev)()({name:"VSelect",props:I(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:u}=(0,g.bU)(),m=(0,x.iH)(),h=(0,x.iH)(),C=(0,b.z)(e,"menu"),k=(0,a.Fl)({get:()=>C.value,set:e=>{C.value&&!e&&h.value?.ΨopenChildren||(C.value=e)}}),{items:w,transformIn:I,transformOut:F}=(0,f.Ce)(e),_=(0,b.z)(e,"modelValue",[],(e=>I((0,V.FT)(e))),(l=>{const t=F(l);return e.multiple?t:t[0]??null})),S=(0,y.cI)(),B=(0,a.Fl)((()=>_.value.map((l=>w.value.find((t=>e.valueComparator(t.value,l.value)))||l)))),U=(0,a.Fl)((()=>B.value.map((e=>e.props.value)))),$=(0,x.XI)(!1);let L,A="";const T=(0,a.Fl)((()=>e.hideSelected?w.value.filter((e=>!B.value.some((l=>l===e)))):w.value)),D=(0,x.iH)();function E(l){e.openOnClear&&(k.value=!0)}function M(){e.hideNoData&&!w.value.length||e.readonly||S?.isReadonly.value||(k.value=!k.value)}function z(l){if(e.readonly||S?.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(l.key)&&l.preventDefault(),["Enter","ArrowDown"," "].includes(l.key)&&(k.value=!0),["Escape","Tab"].includes(l.key)&&(k.value=!1),"ArrowDown"===l.key?D.value?.focus("next"):"ArrowUp"===l.key?D.value?.focus("prev"):"Home"===l.key?D.value?.focus("first"):"End"===l.key&&D.value?.focus("last");const t=1e3;function a(e){const l=1===e.key.length,t=!e.ctrlKey&&!e.metaKey&&!e.altKey;return l&&t}if(e.multiple||!a(l))return;const n=performance.now();n-L>t&&(A=""),A+=l.key.toLowerCase(),L=n;const o=w.value.find((e=>e.title.toLowerCase().startsWith(A)));void 0!==o&&(_.value=[o])}function H(l){if(e.multiple){const t=U.value.findIndex((t=>e.valueComparator(t,l.value)));if(-1===t)_.value=[..._.value,l];else{const e=[..._.value];e.splice(t,1),_.value=e}}else _.value=[l],k.value=!1}function Z(e){D.value?.$el.contains(e.relatedTarget)||(k.value=!1)}function O(){$.value&&m.value?.focus()}function P(e){$.value=!0}return(0,W.L)((()=>{const l=!(!e.chips&&!t.chip),p=!!(!e.hideNoData||T.value.length||t.prepend||t.append||t["no-data"]),f=_.value.length>0,[y]=n.h.filterProps(e),g=f||!$.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return(0,a.Wm)(n.h,(0,a.dG)({ref:m},y,{modelValue:_.value.map((e=>e.props.value)).join(", "),"onUpdate:modelValue":e=>{null==e&&(_.value=[])},focused:$.value,"onUpdate:focused":e=>$.value=e,validationValue:_.externalValue,dirty:f,class:["v-select",{"v-select--active-menu":k.value,"v-select--chips":!!e.chips,["v-select--"+(e.multiple?"multiple":"single")]:!0,"v-select--selected":_.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,readonly:!0,placeholder:g,"onClick:clear":E,"onMousedown:control":M,onBlur:Z,onKeydown:z}),{...t,default:()=>(0,a.Wm)(a.HY,null,[(0,a.Wm)(d.T,(0,a.dG)({ref:h,modelValue:k.value,"onUpdate:modelValue":e=>k.value=e,activator:"parent",contentClass:"v-select__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:O},e.menuProps),{default:()=>[p&&(0,a.Wm)(s.i,{ref:D,selected:U.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault(),onFocusin:P},{default:()=>[!T.value.length&&!e.hideNoData&&(t["no-data"]?.()??(0,a.Wm)(c.l,{title:u(e.noDataText)},null)),t["prepend-item"]?.(),T.value.map(((l,n)=>{const i=(0,a.dG)(l.props,{key:n,onClick:()=>H(l)});return t.item?.({item:l,index:n,props:i})??(0,a.Wm)(c.l,i,{prepend:t=>{let{isSelected:n}=t;return(0,a.Wm)(a.HY,null,[e.multiple&&!e.hideSelected?(0,a.Wm)(o.p,{key:l.value,modelValue:n,ripple:!1,tabindex:"-1"},null):void 0,l.props.prependIcon&&(0,a.Wm)(v.t,{icon:l.props.prependIcon},null)])}})})),t["append-item"]?.()]})]}),B.value.map(((n,o)=>{function u(e){e.stopPropagation(),e.preventDefault(),H(n)}const s={"onClick:close":u,onMousedown(e){e.preventDefault(),e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return(0,a.Wm)("div",{key:n.value,class:"v-select__selection"},[l?t.chip?(0,a.Wm)(r.z,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:n.title}}},{default:()=>[t.chip?.({item:n,index:o,props:s})]}):(0,a.Wm)(i.v,(0,a.dG)({key:"chip",closable:e.closableChips,size:"small",text:n.title},s),null):t.selection?.({item:n,index:o})??(0,a.Wm)("span",{class:"v-select__selection-text"},[n.title,e.multiple&&o<B.value.length-1&&(0,a.Wm)("span",{class:"v-select__selection-comma"},[(0,a.Uk)(",")])])])}))]),"append-inner":function(){for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return(0,a.Wm)(a.HY,null,[t["append-inner"]?.(...n),e.menuIcon?(0,a.Wm)(v.t,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})})),(0,p.F)({isFocused:$,menu:k,select:H},m)}})}}]);
//# sourceMappingURL=550.04fe8c60.js.map