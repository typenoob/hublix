"use strict";(self["webpackChunkhublix"]=self["webpackChunkhublix"]||[]).push([[362],{8325:function(e,t,l){l.d(t,{Z:function(){return V}});var a=l(3396),n=l(7139),i=l(8281),o=l(1634),r=l(6572),s=l(1334),u=l(9234),d=l(1802),c=(l(6699),l(4960)),m=l(9166),v=l(9694),h=l(9374),p=l(1138),f=l(7041),g=l(1629),b=l(8717),y=l(3766),w=l(1107),x=l(131),_=l(7514),W=l(9888),k=l(4870);const M=(0,y.U)({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:c.lE,default:"$ratingEmpty"},fullIcon:{type:c.lE,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...(0,m.l)(),...(0,v.f)(),...(0,h.Z)(),...(0,p.Q)(),...(0,f.x$)()},"v-rating"),C=(0,w.ev)()({name:"VRating",props:M(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:l}=t;const{t:n}=(0,g.bU)(),{themeClasses:o}=(0,f.ER)(e),r=(0,b.z)(e,"modelValue"),s=(0,a.Fl)((()=>(0,x.uZ)(parseFloat(r.value),0,+e.length))),u=(0,a.Fl)((()=>(0,x.MT)(Number(e.length),1))),d=(0,a.Fl)((()=>u.value.flatMap((t=>e.halfIncrements?[t-.5,t]:[t])))),c=(0,k.XI)(-1),m=(0,a.Fl)((()=>d.value.map((t=>{const l=e.hover&&c.value>-1,a=s.value>=t,n=c.value>=t,i=l?n:a,o=i?e.fullIcon:e.emptyIcon,r=e.activeColor??e.color,u=a||n?r:e.color;return{isFilled:a,isHovered:n,icon:o,color:u}})))),v=(0,a.Fl)((()=>[0,...d.value].map((t=>{function l(){c.value=t}function a(){c.value=-1}function n(){e.disabled||e.readonly||(r.value=s.value===t&&e.clearable?0:t)}return{onMouseenter:e.hover?l:void 0,onMouseleave:e.hover?a:void 0,onClick:n}})))),h=(0,a.Fl)((()=>e.name??`v-rating-${(0,_.sq)()}`));function p(t){let{value:o,index:r,showStar:u=!0}=t;const{onMouseenter:d,onMouseleave:c,onClick:p}=v.value[r+1],f=`${h.value}-${String(o).replace(".","-")}`,g={color:m.value[r]?.color,density:e.density,disabled:e.disabled,icon:m.value[r]?.icon,ripple:e.ripple,size:e.size,variant:"plain"};return(0,a.Wm)(a.HY,null,[(0,a.Wm)("label",{for:f,class:{"v-rating__item--half":e.halfIncrements&&o%1>0,"v-rating__item--full":e.halfIncrements&&o%1===0},onMouseenter:d,onMouseleave:c,onClick:p},[(0,a.Wm)("span",{class:"v-rating__hidden"},[n(e.itemAriaLabel,o,e.length)]),u?l.item?l.item({...m.value[r],props:g,value:o,index:r,rating:s.value}):(0,a.Wm)(i.T,g,null):void 0]),(0,a.Wm)("input",{class:"v-rating__hidden",name:h.value,id:f,type:"radio",value:o,checked:s.value===o,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function y(e){return l["item-label"]?l["item-label"](e):e.label?(0,a.Wm)("span",null,[e.label]):(0,a.Wm)("span",null,[(0,a.Uk)(" ")])}return(0,W.L)((()=>{const t=!!e.itemLabels?.length||l["item-label"];return(0,a.Wm)(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},o.value,e.class],style:e.style},{default:()=>[(0,a.Wm)(p,{value:0,index:-1,showStar:!1},null),u.value.map(((l,n)=>(0,a.Wm)("div",{class:"v-rating__wrapper"},[t&&"top"===e.itemLabelPosition?y({value:l,index:n,label:e.itemLabels?.[n]}):void 0,(0,a.Wm)("div",{class:"v-rating__item"},[e.halfIncrements?(0,a.Wm)(a.HY,null,[(0,a.Wm)(p,{value:l-.5,index:2*n},null),(0,a.Wm)(p,{value:l,index:2*n+1},null)]):(0,a.Wm)(p,{value:l,index:n},null)]),t&&"bottom"===e.itemLabelPosition?y({value:l,index:n,label:e.itemLabels?.[n]}):void 0])))]})})),{}}});function I(e,t,l,c,m,v){return(0,a.wg)(),(0,a.j4)(o._,{elevation:m.elevation,onTouchstart:t[4]||(t[4]=e=>this.elevation=12),onTouchend:t[5]||(t[5]=e=>this.elevation=6),class:"mx-auto",density:"compact","max-width":v.width,style:{position:"relative"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d.f,{onClick:t[0]||(t[0]=t=>e.$router.push({path:`/video/${l.id}`})),class:"white--text align-end",src:m.src,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"200px",cover:""},{default:(0,a.w5)((()=>[(0,a.Wm)(r.E,{class:"text-white"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(m.title),1)])),_:1})])),_:1},8,["src"]),(0,a.Wm)(s.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(C,{readonly:"",modelValue:m.rating,"onUpdate:modelValue":t[1]||(t[1]=e=>m.rating=e),"background-color":"white",color:"yellow accent-4",density:"compact","half-increments":"",hover:"",size:"small"},null,8,["modelValue"]),(0,a.Wm)(u.C),(0,a.Wm)(i.T,{style:(0,n.j5)(`position: absolute; right: ${v.right[0]}px; bottom: 8px`),size:"x-small",color:v.is_collected?"yellow":"#424242",icon:v.is_collected?"mdi-bookmark":"mdi-bookmark-outline",onClick:t[2]||(t[2]=e=>v.is_collected?v.deleteMovie(l.id):v.addMovie(v.collection_id,l.id))},null,8,["style","color","icon"]),(0,a.Wm)(i.T,{size:"x-small",style:(0,n.j5)(`position: absolute; right: ${v.right[1]}px; bottom: 8px`),color:"surface-variant",icon:"mdi-share-variant",onClick:t[3]||(t[3]=e=>this.$store.commit("alertUnfinished"))},null,8,["style"])])),_:1})])),_:1},8,["elevation","max-width"])}var Z=l(3020),$=l(9201),S=l(8157),L={created(){this.readInfo(),this.fetchData()},computed:{collection_id(){return this.$store.state.user.info.default_collection},is_collected(){const e=this.$store.state.collections.reduce(((e,t)=>e.concat(t.movies.map((e=>e.id)))),[]);return e.includes(this.id.toString())},width(){const{name:e}=(0,S.AW)();switch(e.value){case"xs":return 160;case"sm":return 250;case"md":return 350;case"lg":return 450;case"xl":return 550}return 0},right(){const{name:e}=(0,S.AW)();switch(e.value){case"xs":return[20,0];case"sm":return[80,40];case"md":return[120,60];case"lg":return[180,100];case"xl":return[240,160]}return 0}},data(){return{elevation:6,title:"标题",src:"",rating:5,like:!1}},watch:{id:function(){this.fetchData()}},props:{id:{type:Number,required:!0}},methods:{async fetchData(){Z.Z.detail(this.id).then((e=>{Object.assign(this,e)}))},addMovie:$.Z.addMovie,deleteMovie:$.Z.deleteMovie,readInfo:$.Z.readInfo}},F=l(89);const z=(0,F.Z)(L,[["render",I]]);var V=z},4362:function(e,t,l){l.r(t),l.d(t,{default:function(){return h}});var a=l(3396),n=l(7139),i=l(3369),o=l(6824),r=l(8521);function s(e,t,l,s,u,d){const c=(0,a.up)("MovieCard");return(0,a.wg)(),(0,a.j4)(i.K,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.movies,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(o.o,{class:"text-h5 my-3 px-4"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.subheader),1)])),_:2},1024),(0,a.Wm)(o.o,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.ids,(e=>((0,a.wg)(),(0,a.j4)(r.D,{key:e,cols:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{id:e},null,8,["id"])])),_:2},1024)))),128))])),_:2},1024)])))),128))])),_:1})}var u=l(3020),d=l(8325),c={name:"HomePage",components:{MovieCard:d.Z},created(){u.Z.nowPlaying().then((e=>{this.movies[0].ids=e})),u.Z.popular().then((e=>{this.movies[1].ids=e})),u.Z.topRated().then((e=>{this.movies[2].ids=e})),u.Z.upcoming().then((e=>{this.movies[3].ids=e}))},data(){return{movies:[{subheader:"正在上映"},{subheader:"热门"},{subheader:"顶级评分"},{subheader:"即将发布"}]}}},m=l(89);const v=(0,m.Z)(c,[["render",s],["__scopeId","data-v-bbe7a8c2"]]);var h=v},9234:function(e,t,l){l.d(t,{C:function(){return n}});var a=l(1114);const n=(0,a.J)("flex-grow-1","div","VSpacer")}}]);
//# sourceMappingURL=362.c7693dea.js.map