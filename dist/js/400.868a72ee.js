"use strict";(self["webpackChunkhublix"]=self["webpackChunkhublix"]||[]).push([[400],{4400:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});n(6699);var i=n(3396),l=n(9242),s=n(5101),o=n(3369),a=n(6824),d=n(8521),r=n(6052),c=n(917),h=n(1358);function m(e,t,n,m,u,p){const f=(0,i.up)("MovieList"),v=(0,i.up)("SwipeLeftAction");return(0,i.wg)(),(0,i.j4)(o.K,{class:"fill-height d-flex flex-column"},{default:(0,i.w5)((()=>[(0,i.Wm)(a.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d.D,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r.i,{opened:u.open,"onUpdate:opened":t[2]||(t[2]=e=>u.open=e)},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(p.collections,((e,l)=>((0,i.wg)(),(0,i.j4)(v,{key:l,index:l,name:e.name,enable:!u.open.includes(l)&&!n.readOnly&&!p.is_default(e.id),onOnRemove:t[0]||(t[0]=e=>p.del(e)),onOnRename:t[1]||(t[1]=e=>p.rename(e))},{default:(0,i.w5)((()=>[(0,i.Wm)(c.N,{"active-color":"primary",value:l},{activator:(0,i.w5)((({props:t})=>[(0,i.Wm)(h.l,(0,i.dG)({class:"list-item"},t,{"prepend-icon":u.open.includes(l)?"mdi-folder-open-outline":"mdi-folder-outline",title:e.name,value:e.name}),null,16,["prepend-icon","title","value"])])),default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.movies,((e,t)=>((0,i.wg)(),(0,i.j4)(f,{key:t,id:e.id},null,8,["id"])))),128))])),_:2},1032,["value"])])),_:2},1032,["index","name","enable"])))),128))])),_:1},8,["opened"])])),_:1})])),_:1}),(0,i.wy)((0,i.Wm)(a.o,{class:"align-end"},{default:(0,i.w5)((()=>[(0,i.Wm)(d.D,{align:"end"},{default:(0,i.w5)((()=>[(0,i.Wm)(s.T,{onClick:t[3]||(t[3]=e=>p.create()),class:"mx-2",icon:"mdi-plus",color:"indigo"})])),_:1})])),_:1},512),[[l.F8,!n.readOnly]])])),_:1})}var u=n(4126),p=n(9201),f=n(7139),v=n(3289);const w={wrap:"",style:{"margin-bottom":"20px"}},g={ref:"slot"},x={style:{width:"100%",display:"flex"}};function X(e,t,n,s,o,a){return(0,i.wg)(),(0,i.iD)("div",w,[(0,i.wy)((0,i._)("div",{class:"slider-item",style:(0,f.j5)(`height:${o.height}px;`)},[(0,i._)("div",{class:"content",onTouchstart:t[1]||(t[1]=(...e)=>a.touchStart&&a.touchStart(...e)),onTouchmove:t[2]||(t[2]=(...e)=>a.touchMove&&a.touchMove(...e)),onTouchend:t[3]||(t[3]=(...e)=>a.touchEnd&&a.touchEnd(...e)),style:(0,f.j5)(o.deleteSlider)},[(0,i._)("div",g,[(0,i.WI)(e.$slots,"default")],512),(0,i.Wm)(v.t,{onClick:a.remove,class:"remove",style:(0,f.j5)(`line-height:${o.height}px;right:${-o.DELBTNWIDTH/2}px`),icon:"mdi-delete"},null,8,["onClick","style"]),(0,i.Wm)(v.t,{onClick:t[0]||(t[0]=e=>o.renaming=!0),class:"rename",style:(0,f.j5)(`line-height:${o.height}px;right:${-o.DELBTNWIDTH}px`),icon:"mdi-pencil"},null,8,["style"])],36)],4),[[l.F8,n.enable&&!o.renaming]]),n.enable?(0,i.kq)("",!0):(0,i.WI)(e.$slots,"default",{key:0}),(0,i.wy)((0,i.Wm)(h.l,{class:"list-item","prepend-icon":"mdi-folder-outline"},{default:(0,i.w5)((()=>[(0,i._)("div",x,[(0,i.wy)((0,i._)("input",{onfocus:"this.select()",type:"text",ref:"input",style:{flex:"1",outline:"none"},"onUpdate:modelValue":t[4]||(t[4]=e=>o.newName=e)},null,512),[[l.nr,o.newName]]),(0,i.Wm)(v.t,{onClick:a.rename,icon:"mdi-check"},null,8,["onClick"]),(0,i.Wm)(v.t,{onClick:t[5]||(t[5]=e=>o.renaming=!1),end:"",icon:"mdi-close"})])])),_:1},512),[[l.F8,o.renaming]])])}const y=120;var W={data(){return{startX:0,endX:0,moveX:0,disX:0,deleteSlider:"transform:translateX(0px)",DELBTNWIDTH:y,renaming:!1,height:0,width:0,newName:this.name}},mounted(){this.height=this.$refs.slot.clientHeight,this.width=this.$refs.slot.clientWidth},emits:["onRemove","onRename"],watch:{renaming(e){e&&this.$nextTick((()=>{this.$refs.input.select()}))}},methods:{remove(){this.$emit("onRemove",this.index)},rename(){this.$emit("onRename",{index:this.index,name:this.newName}),this.renaming=!1},touchStart(e,t){t=t||event,this.currSliderTimestamp=e,this.startX=0,1===t.touches.length&&(this.startX=t.touches[0].clientX)},touchMove(e,t){t=t||event,1===t.touches.length&&(this.moveX=t.touches[0].clientX,this.disX=this.startX-this.moveX+this.disX,this.disX>0?this.disX<100?this.deleteSlider="transform:translateX(-"+this.disX+"px)":this.deleteSlider="transform:translateX(-100px)":this.disX<-60?this.deleteSlider="transform:translateX(60px)":this.deleteSlider="transform:translateX("+Math.abs(this.disX)+"px)")},touchEnd(){this.disX<100?(this.deleteSlider="transform:translateX(0px)",this.disX=0):(this.deleteSlider="transform:translateX(-"+y+"px)",this.disX=60)}},props:{enable:Boolean,index:Number,name:String}},k=n(89);const _=(0,k.Z)(W,[["render",X]]);var S=_,$={components:{MovieList:u.Z,SwipeLeftAction:S},created(){p.Z.readInfo()},data(){return{open:[]}},props:{readOnly:{type:Boolean,default:!1}},computed:{collections(){return this.$store.state.collections},is_default(){return e=>this.$store.state.user.info.default_collection===e}},methods:{create(){p.Z.create()},del(e){p.Z["delete"](this.collections[e].id)},rename(e){this.collections[e.index].name=e.name,p.Z.update(this.collections[e.index].id,e.name)}}};const b=(0,k.Z)($,[["render",m]]);var T=b}}]);
//# sourceMappingURL=400.868a72ee.js.map