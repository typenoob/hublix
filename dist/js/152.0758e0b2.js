"use strict";(self["webpackChunkhublix"]=self["webpackChunkhublix"]||[]).push([[152],{789:function(e,t,l){l.d(t,{Z:function(){return I}});var n=l(3396),a=l(7139),o=l(5101),i=l(7229),r=l(6572),u=l(1334),s=l(9234),d=l(1285),c=(l(6699),l(9694)),v=l(9374),m=l(1138),h=l(8717),p=l(7041),f=l(5738),g=l(4870),b=l(1107),w=l(131);const y=(0,b.e)()({name:"VRating",props:{name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:String,default:"$ratingEmpty"},fullIcon:{type:String,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:Number,default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...(0,c.f)(),...(0,v.Z)(),...(0,m.Q)(),...(0,p.x$)()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:l}=t;const{t:a}=(0,f.bU)(),{themeClasses:i}=(0,p.ER)(e),r=(0,h.z)(e,"modelValue"),u=(0,n.Fl)((()=>(0,w.MT)(Number(e.length),1))),s=(0,n.Fl)((()=>u.value.flatMap((t=>e.halfIncrements?[t-.5,t]:[t])))),d=(0,g.iH)(-1),c=(0,g.iH)(-1),v=(0,g.iH)();let m=!1;const b=(0,n.Fl)((()=>s.value.map((t=>{var l;const n=e.hover&&d.value>-1,a=r.value>=t,o=d.value>=t,i=n?o:a,u=i?e.fullIcon:e.emptyIcon,s=null!=(l=e.activeColor)?l:e.color,c=a||o?s:e.color;return{isFilled:a,isHovered:o,icon:u,color:c}})))),y=(0,n.Fl)((()=>[0,...s.value].map((t=>{function l(){d.value=t}function n(){d.value=-1}function a(){var e;0===t&&0===r.value?null==(e=v.value)||e.focus():c.value=t}function o(){m||(c.value=-1)}function i(){e.disabled||e.readonly||(r.value=r.value===t&&e.clearable?0:t)}return{onMouseenter:e.hover?l:void 0,onMouseleave:e.hover?n:void 0,onFocus:a,onBlur:o,onClick:i}}))));function _(){m=!0}function x(){m=!1}const W=(0,n.Fl)((()=>{var t;return null!=(t=e.name)?t:`v-rating-${(0,w.sq)()}`}));function k(t){var i,u;let{value:s,index:d,showStar:c=!0}=t;const{onMouseenter:m,onMouseleave:h,onFocus:p,onBlur:f,onClick:g}=y.value[d+1],w=`${W.value}-${String(s).replace(".","-")}`,k={color:null==(i=b.value[d])?void 0:i.color,density:e.density,disabled:e.disabled,icon:null==(u=b.value[d])?void 0:u.icon,ripple:e.ripple,size:e.size,tag:"span",variant:"plain"};return(0,n.Wm)(n.HY,null,[(0,n.Wm)("label",{for:w,class:{"v-rating__item--half":e.halfIncrements&&s%1>0,"v-rating__item--full":e.halfIncrements&&s%1===0},onMousedown:_,onMouseup:x,onMouseenter:m,onMouseleave:h},[(0,n.Wm)("span",{class:"v-rating__hidden"},[a(e.itemAriaLabel,s,e.length)]),c?l.item?l.item({...b.value[d],props:k,value:s,index:d}):(0,n.Wm)(o.T,k,null):void 0]),(0,n.Wm)("input",{class:"v-rating__hidden",name:W.value,id:w,type:"radio",value:s,checked:r.value===s,onClick:g,onFocus:p,onBlur:f,ref:0===d?v:void 0,readonly:e.readonly,disabled:e.disabled},null)])}function M(e){return l["item-label"]?l["item-label"](e):e.label?(0,n.Wm)("span",null,[e.label]):(0,n.Wm)("span",null,[(0,n.Uk)(" ")])}return()=>{var t;const a=!(null==(t=e.itemLabels)||!t.length)||l["item-label"];return(0,n.Wm)(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},i.value]},{default:()=>[(0,n.Wm)(k,{value:0,index:-1,showStar:!1},null),u.value.map(((t,l)=>{var o,i;return(0,n.Wm)("div",{class:"v-rating__wrapper"},[a&&"top"===e.itemLabelPosition?M({value:t,index:l,label:null==(o=e.itemLabels)?void 0:o[l]}):void 0,(0,n.Wm)("div",{class:["v-rating__item",{"v-rating__item--focused":Math.ceil(c.value)===t}]},[e.halfIncrements?(0,n.Wm)(n.HY,null,[(0,n.Wm)(k,{value:t-.5,index:2*l},null),(0,n.Wm)(k,{value:t,index:2*l+1},null)]):(0,n.Wm)(k,{value:t,index:l},null)]),a&&"bottom"===e.itemLabelPosition?M({value:t,index:l,label:null==(i=e.itemLabels)?void 0:i[l]}):void 0])}))]})}}});function _(e,t,l,c,v,m){return(0,n.wg)(),(0,n.j4)(i._,{elevation:v.elevation,onTouchstart:t[4]||(t[4]=e=>this.elevation=12),onTouchend:t[5]||(t[5]=e=>this.elevation=6),class:"mx-auto",density:"compact","max-width":m.width,style:{position:"relative"}},{default:(0,n.w5)((()=>[(0,n.Wm)(d.f,{onClick:t[0]||(t[0]=t=>e.$router.push({path:`/video/${l.id}`})),class:"white--text align-end",src:v.src,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"200px",cover:""},{default:(0,n.w5)((()=>[(0,n.Wm)(r.E,{class:"text-white"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(v.title),1)])),_:1})])),_:1},8,["src"]),(0,n.Wm)(u.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{readonly:"",modelValue:v.rating,"onUpdate:modelValue":t[1]||(t[1]=e=>v.rating=e),"background-color":"white",color:"yellow accent-4",density:"compact","half-increments":"",hover:"",size:"small"},null,8,["modelValue"]),(0,n.Wm)(s.C),(0,n.Wm)(o.T,{style:(0,a.j5)(`position: absolute; right: ${m.right[0]}px; bottom: 8px`),size:"x-small",color:m.is_collected?"yellow":"#424242",icon:m.is_collected?"mdi-bookmark":"mdi-bookmark-outline",onClick:t[2]||(t[2]=e=>m.is_collected?m.deleteMovie(l.id):m.addMovie(m.collection_id,l.id))},null,8,["style","color","icon"]),(0,n.Wm)(o.T,{size:"x-small",style:(0,a.j5)(`position: absolute; right: ${m.right[1]}px; bottom: 8px`),color:"surface-variant",icon:"mdi-share-variant",onClick:t[3]||(t[3]=e=>this.$store.commit("alertUnfinished"))},null,8,["style"])])),_:1})])),_:1},8,["elevation","max-width"])}var x=l(3020),W=l(9201),k=l(8157),M={created(){this.readInfo(),this.fetchData()},computed:{collection_id(){return this.$store.state.user.info.default_collection},is_collected(){const e=this.$store.state.collections.reduce(((e,t)=>e.concat(t.movies.map((e=>e.id)))),[]);return e.includes(this.id.toString())},width(){const{name:e}=(0,k.AW)();switch(e.value){case"xs":return 160;case"sm":return 250;case"md":return 350;case"lg":return 450;case"xl":return 550}return 0},right(){const{name:e}=(0,k.AW)();switch(e.value){case"xs":return[20,0];case"sm":return[80,40];case"md":return[120,60];case"lg":return[180,100];case"xl":return[240,160]}return 0}},data(){return{elevation:6,title:"标题",src:"",rating:5,like:!1}},watch:{id:function(){this.fetchData()}},props:{id:{type:Number,required:!0}},methods:{async fetchData(){x.Z.detail(this.id).then((e=>{Object.assign(this,e)}))},addMovie:W.Z.addMovie,deleteMovie:W.Z.deleteMovie,readInfo:W.Z.readInfo}},C=l(89);const $=(0,C.Z)(M,[["render",_]]);var I=$},1152:function(e,t,l){l.r(t),l.d(t,{default:function(){return h}});var n=l(3396),a=l(7139),o=l(3369),i=l(6824),r=l(8521);function u(e,t,l,u,s,d){const c=(0,n.up)("MovieCard");return(0,n.wg)(),(0,n.j4)(o.K,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.movies,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t},[(0,n.Wm)(i.o,{class:"text-h5 my-3 px-4"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.subheader),1)])),_:2},1024),(0,n.Wm)(i.o,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.ids,(e=>((0,n.wg)(),(0,n.j4)(r.D,{key:e,cols:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{id:e},null,8,["id"])])),_:2},1024)))),128))])),_:2},1024)])))),128))])),_:1})}var s=l(3020),d=l(789),c={name:"HomePage",components:{MovieCard:d.Z},created(){s.Z.nowPlaying().then((e=>{this.movies[0].ids=e})),s.Z.popular().then((e=>{this.movies[1].ids=e})),s.Z.topRated().then((e=>{this.movies[2].ids=e})),s.Z.upcoming().then((e=>{this.movies[3].ids=e}))},data(){return{movies:[{subheader:"正在上映"},{subheader:"热门"},{subheader:"顶级评分"},{subheader:"即将发布"}]}}},v=l(89);const m=(0,v.Z)(c,[["render",u],["__scopeId","data-v-bbe7a8c2"]]);var h=m},9234:function(e,t,l){l.d(t,{C:function(){return a}});var n=l(1114);const a=(0,n.J)("flex-grow-1","div","VSpacer")}}]);
//# sourceMappingURL=152.0758e0b2.js.map